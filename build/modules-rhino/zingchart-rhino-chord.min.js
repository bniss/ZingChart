/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.0
*/
zingchart.setModule("chord"),function(){ZC.ADP=function(){var l=function(){this.AEW="palette",this.BZ="#6a921f",this.BN=[],this.SQ=.8,this.AEV=.1,this.AES=0,this.AER=5,this.iGroupPadding=10,this.iGroupOffset=0,this.JK=1,this.K5=!1,this.AGH=function(){for(var l=(16777215*Math.random()+1<<0).toString(16);l.length<6;)l="0"+l;return"#"+l}};return l.getDefaults=function(e){var t={};return ZC._cp_(l.B9,t),l.NU[e]&&ZC._cp_(l.NU[e],t),t},l.B9={palette:[],"border-color-1":"#999","border-color-2":"#666",alpha:.75,tick:{"line-color":"#666",flat:!0,"line-width":1},item:{color:"#333","offset-r":0},label:{"auto-align":!0,color:"#333","offset-r":0},"value-box":{visible:!1}},l.NU={light:{palette:[["#7CA82B","#7CA82B","#638F12"],["#29A2CC","#29A2CC","#1089B3"],["#D31E1E","#D31E1E","#BA0505"],["#EF8535","#EF8535","#D66C1C"],["#A05F18","#A05F18","#874600"],["#265E96","#265E96","#0D457D"],["#6B7075","#6B7075","#52575C"]],"border-color-1":"#000","border-color-2":"#fff",alpha:1,tick:{"line-color":"#666"}},dark:{palette:[["#7CA82B","#7CA82B","#638F12"],["#29A2CC","#29A2CC","#1089B3"],["#D31E1E","#D31E1E","#BA0505"],["#EF8535","#EF8535","#D66C1C"],["#A05F18","#A05F18","#874600"],["#265E96","#265E96","#0D457D"],["#6B7075","#6B7075","#52575C"]],"border-color-1":"#221F1F","border-color-2":"#221F1F",alpha:1,tick:{"line-color":"#58595B"},item:{color:"#fff"},label:{color:"#D1D3D4"}}},l}();var l={},e={},t=null,n=null,a=-1,_=-1;zingchart.bind(null,"dataparse",function(r,o){var i,C,Z,u,s,g,p=zingchart.getLoader(r.id);zingchart.initThemes(p);for(var d=ZC.ADP.getDefaults(r.theme),h=0,c=o.graphset.length;h<c;h++)if("chord"===o.graphset[h].type){var f=o.graphset[h].type,v=o.graphset[h],A={};v.options&&(A=v.options[f]||v.options),ZC._todash_(A),null!==ZC._n_(t)&&(v.shapes=[],ZC._cpa_(t,v.shapes)),null!==ZC._n_(n)&&(v.labels=[],ZC._cpa_(n,v.labels));var b=new ZC.ADP;l["chord-"+r.id+"-"+h]=b,null!==ZC._n_(i=A["color-type"])&&(b.AEW=i),null!==ZC._n_(i=A.color)&&(b.BZ=ZC.AN.G5(i)),null!==ZC._n_(i=A.palette)?b.BN=i:d.palette.length>0&&(b.BN=d.palette),null!==ZC._n_(i=A.radius)&&(b.SQ=ZC._f_(ZC.ID(i))),null!==ZC._n_(i=A["band-width"])&&(b.AEV=ZC._f_(ZC.ID(i))),null!==ZC._n_(i=A["band-space"])&&(b.AES=ZC._f_(ZC.ID(i))),null!==ZC._n_(i=A["angle-padding"])&&(b.AER=ZC._i_(i)),null!==ZC._n_(i=A["group-padding"])&&(b.iGroupPadding=ZC._i_(i)),null!==ZC._n_(i=A["group-offset"])&&(b.iGroupOffset=ZC._i_(i)),null!==ZC._n_(i=A["size-factor"])&&(b.JK=ZC._f_(i)),null!==ZC._n_(i=A.flat)&&(b.K5=ZC._b_(i));var y=v.series;for(C=0;C<y.length;C++)y[C]["sort-index"]=C;var x=[];y.sort(function(l,e){return null!==ZC._n_(l.group)&&-1===ZC.AT(x,ZC._i_(l.group))&&x.push(ZC._i_(l.group)),null!==ZC._n_(e.group)&&-1===ZC.AT(x,ZC._i_(e.group))&&x.push(ZC._i_(e.group)),null!==ZC._n_(l.group)&&null!==ZC._n_(e.group)&&ZC._i_(l.group)-ZC._i_(e.group)!=0?ZC._i_(l.group)-ZC._i_(e.group):l["sort-index"]-e["sort-index"]});var E=ZC.BO(x.length,1),B=e["chord-"+r.id+"-"+h]||[],m=B.length,M=0;for(C=0,Z=y.length;C<Z;C++)if(0===m||m>0&&-1===ZC.AT(B,C))for(s=0,g=(u=y[C].values||[]).length;s<g;s++)(0===m||m>0&&-1===ZC.AT(B,s))&&(M+=ZC._f_(u[s]));var D=0;for(C=0,Z=y.length;C<Z;C++)(0===m||m>0&&-1===ZC.AT(B,C))&&D++;if(-1===a&&(a=y.length),-1===_)for(C=0,Z=y.length;C<Z;C++)u=y[C].values||[],_=ZC.BO(_,u.length);v.shapes||(v.shapes=[]),t||(t=[],ZC._cpa_(v.shapes,t));var k=v.shapes;v.labels||(v.labels=[]),n||(n=[],ZC._cpa_(v.labels,n));var F=v.labels;v.legend&&(v.legend["toggle-action"]="none");var O,N,T,w,S,z,G,I,P,V,L,U=360-b.AER*D-b.iGroupPadding*(E>1?E:0),W=[],K=[],Q=[],R=0,J=0,X=null,H=!1;for(C=0,Z=y.length;C<Z;C++){ZC._todash_(y[C]),L=1,null!==ZC._n_(y[C].group)&&(L=ZC._i_(y[C].group)),H=!1,J=0,null===X&&null!==ZC._n_(y[C].group)?X=ZC._i_(y[C].group):ZC._i_(y[C].group)!==X&&(X=ZC._i_(y[C].group),H=!0),H&&C>0&&(J=b.iGroupPadding);var j=b.BZ;if("palette"===b.AEW?j=b.BN.length>0?b.BN[C%b.BN.length]:zingchart.getPalette(p,C,"bar")[1]:"random"===b.AEW&&(j=b.AGH()),0===m||m>0&&-1===ZC.AT(B,C)){null===ZC._n_(y[C]["background-color"])&&(y[C]["background-color"]=j),y[C].visible=!0;var q={},Y=0;for(s=0,g=(u=y[C].values||[]).length;s<g;s++)(0===m||m>0&&-1===ZC.AT(B,s))&&(Y+=ZC._f_(u[s]));q["angle-start"]=R+J,q["angle-end"]=q["angle-start"]+U*Y/M,q.group=L,q.total=Y,q.values=y[C].values,R=q["angle-end"]+b.AER,W.push(q);var $=zingchart.getInstance(p,"style");$.append(y[C]),$.parse(),K[C]=$,v.legend&&ZC._cp_({"legend-marker":{alpha:.75,"background-color-1":$.A0,"background-color-2":$.AC}},y[C]),G={"background-color":"#fff",color:"#333","border-width":1,"border-color":d["border-color-1"],padding:10},null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.tooltip)&&ZC._cp_(i,G);var ll=y[C].text||"";G.text=ll;var el={alpha:d.alpha,"border-width":0,"background-color":$.A0+" "+$.AC,tooltip:G};null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.band)&&ZC._cp_(i,el),null!==ZC._n_(y[C].style)&&null!==ZC._n_(i=y[C].style.band)&&ZC._cp_(i,el),ZC._cp_({type:"pie",id:"segment_"+C,"angle-start":q["angle-start"],"angle-end":q["angle-end"]},el),el.tooltip.text=el.tooltip.text.replace(/%text/gi,ll),Q.push(el)}else y[C].visible=!1,W.push(null),Q.push(null)}var tl=0;if(E>1){var nl=Number.MAX_VALUE,al=-Number.MAX_VALUE;for(C=0,Z=W.length;C<Z;C++)1===W[C].group&&(nl=Math.min(nl,W[C]["angle-start"]),al=Math.max(al,W[C]["angle-end"]));tl=(al-nl)/2}for(tl+=b.iGroupOffset,C=0,Z=W.length;C<Z;C++)W[C]&&Q[C]&&(W[C]["angle-start"]-=tl,W[C]["angle-end"]-=tl,Q[C]["angle-start"]-=tl,Q[C]["angle-end"]-=tl,k.push(Q[C]));var _l,rl=Number.MAX_VALUE;if(0!==M){for(C=0,Z=W.length;C<Z;C++)if(0===m||m>0&&-1===ZC.AT(B,C)){var ol=Math.pow(10,Math.floor(Math.log(W[C].total)/Math.LN10));ol>0&&(rl=ZC.CW(rl,ol))}for(;;){if((_l=U*rl/M)<15)break;rl/=2}}else rl=1;var il,Cl,Zl,ul,sl,gl,pl,dl=Math.min(0,Math.ceil(Math.log(rl)/Math.LN10)+1),hl=0,cl=0;for(C=0,Z=W.length;C<Z;C++)if(0===m||m>0&&-1===ZC.AT(B,C))for(il=0,Cl=ZC.BO(1,Math.floor(10/_l)),O=W[C]["angle-start"];O<W[C]["angle-end"];O+=_l)il%Cl==0&&(sl=(Zl=il*rl).toFixed(dl),Zl>=1e3&&(sl=Zl/1e3+"k"),Zl>=1e6&&(sl=Zl/1e6+"M"),ul={},ZC._cp_(d.item,ul),null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.item)&&ZC._cp_(i,ul),null!==ZC._n_(y[C].style)&&null!==ZC._n_(i=y[C].style.item)&&ZC._cp_(i,ul),ul.text=sl,ZC._todash_(ul),(gl=zingchart.getInstance(p,"textbox")).append(ul),gl.parse(),cl=Math.max(cl,gl.DS),hl=Math.max(hl,gl.I)),il++;var fl,vl=0,Al=0,bl=0;for(C=0;C<y.length;C++)sl=y[C].text||"",fl={},ZC._cp_(d.label,fl),null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.label)&&ZC._cp_(i,fl),null!==ZC._n_(y[C].style)&&null!==ZC._n_(i=y[C].style.label)&&ZC._cp_(i,fl),fl.text=sl,ZC._todash_(fl),(pl=zingchart.getInstance(p,"textbox")).append(fl),pl.parse(),bl=Math.max(bl,pl.DS),vl=Math.max(vl,pl.I),Al=Math.max(Al,pl.F);if(v.plotarea)for(var yl=["margin","margin-top","margin-right","margin-bottom","margin-left"],xl=0;xl<yl.length;xl++)"dynamic"===v.plotarea[yl[xl]]&&(0===pl.AA?v.plotarea[yl[xl]]=hl+cl+Al-20:v.plotarea[yl[xl]]=hl+cl+vl-20);var El,Bl=zingchart.getGraphInfo(p,o,h),ml=Bl.plotarea.x+Bl.plotarea.width/2,Ml=Bl.plotarea.y+Bl.plotarea.height/2,Dl=Bl.graph.x+ml,kl=Bl.graph.y+Ml;El=b.SQ>1?ZC._i_(b.SQ):ZC._i_(b.SQ*ZC.CW(Bl.plotarea.width/2,Bl.plotarea.height/2)),El*=b.JK;var Fl;for(Fl=b.AEV>1?El-ZC._i_(b.AEV):ZC._i_((1-b.AEV)*El),b.AES<1&&(b.AES=ZC._i_(b.AES*El)),C=0,Z=k.length;C<Z;C++)k[C].id&&0===k[C].id.indexOf("segment_")&&(k[C].x=ml,k[C].y=Ml,k[C].size=El,k[C].slice=Fl);for(C=0,Z=W.length;C<Z;C++)if(0===m||m>0&&-1===ZC.AT(B,C)){il=0;var Ol=[],Nl={};ZC._cp_(d.tick,Nl),null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.tick)&&ZC._cp_(i,Nl),null!==ZC._n_(y[C].style)&&null!==ZC._n_(i=y[C].style.tick)&&ZC._cp_(i,Nl);var Tl=Nl.size||5;for(Cl=ZC.BO(1,Math.floor(10/_l)),z=30,O=W[C]["angle-start"];O<W[C]["angle-end"];O+=_l){var wl=ZC.AO.BM(Dl,kl,El,O+.1),Sl=ZC.AO.BM(Dl,kl,El+Tl,O+.1);Ol.push(wl,Sl,null),il%Cl==0&&(sl=(Zl=il*rl).toFixed(dl),Zl>=1e3&&(sl=Zl/1e3+"k"),Zl>=1e6&&(sl=Zl/1e6+"M"),N=O,T="left",O>90&&O<270&&(N=O-180,T="right"),ul={},ZC._cp_(d.item,ul),null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.item)&&ZC._cp_(i,ul),null!==ZC._n_(y[C].style)&&null!==ZC._n_(i=y[C].style.item)&&ZC._cp_(i,ul),z=ul.width||hl,S=ZC._i_(ul["offset-r"]||"0"),w=ZC.AO.BM(ml,Ml,El+Tl+S+z/2,O+.1),ZC._cp_({anchor:"c",flat:!0,x:ZC._i_(w[0]),y:ZC._i_(w[1]),width:z,angle:N,"text-align":T,text:sl},ul),("undefined"==typeof ul.visible||ZC._b_(ul.visible))&&F.push(ul)),il++}ZC._cp_({type:"line",id:"ticks"+C,points:Ol},Nl),("undefined"==typeof Nl.visible||ZC._b_(Nl.visible))&&k.push(Nl),N=O=(W[C]["angle-start"]+W[C]["angle-end"])/2,O<0&&(O+=360),O%=360,T="center",0===pl.AA?O>=0&&O<=180?N-=90:N+=90:O>=0&&O<=90||O>=270&&O<=360?N-=90:N+=90;var zl={};ZC._cp_(d["value-box"],zl),null!==ZC._n_(v.plot)&&null!==ZC._n_(i=v.plot["value-box"])&&ZC._cp_(i,zl),null!==ZC._n_(i=y[C]["value-box"])&&ZC._cp_(i,zl);var Gl=ZC.AO.BM(Dl,kl,(El+Fl)/2,(W[C]["angle-start"]+W[C]["angle-end"])/2),Il=N;null===ZC._n_(zl.angle)&&null===ZC._n_(zl["font-angle"])||(zl["auto-align"]?null!==ZC._n_(zl.angle)?Il+=ZC._f_(zl.angle):Il+=ZC._f_(zl["font-angle"]):Il=null!==ZC._n_(zl.angle)?ZC._f_(zl.angle):ZC._f_(zl["font-angle"])),ZC._cp_({id:"vbox_"+C,anchor:"c",angle:Il,x:Gl[0],y:Gl[1],flat:!0},zl),zl.text=zl.text||"%node-value",zl.text=zl.text.replace(/%plot-text/gi,y[C].text||"").replace(/%node-value/gi,W[C].total),("undefined"==typeof zl.visible||ZC._b_(zl.visible))&&F.push(zl),fl={},ZC._cp_(d.label,fl),null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.label)&&ZC._cp_(i,fl),null!==ZC._n_(y[C].style)&&null!==ZC._n_(i=y[C].style.label)&&ZC._cp_(i,fl),P=fl.width||vl,V=fl.height||Al,I=ZC._i_(fl["offset-r"]||"0"),null===ZC._n_(fl.angle)&&null===ZC._n_(fl["font-angle"])||(fl["auto-align"]?(null!==ZC._n_(fl.angle)?N+=ZC._f_(fl.angle):N+=ZC._f_(fl["font-angle"]),0!==pl.AA&&(T=O>=0&&O<=90||O>=270&&O<=360?"left":"right")):N=null!==ZC._n_(fl.angle)?ZC._f_(fl.angle):ZC._f_(fl["font-angle"])),w=0===pl.AA?ZC.AO.BM(ml,Ml,El+Tl+S+z+I+V,O):ZC.AO.BM(ml,Ml,El+Tl+S+z+I+P/2,O),ZC._cp_({anchor:"c",flat:!0,x:ZC._i_(w[0]),y:ZC._i_(w[1]),width:P,angle:N,"font-angle":N,"text-align":T,text:y[C].text},fl),("undefined"==typeof fl.visible||ZC._b_(fl.visible))&&F.push(fl)}var Pl=Fl-b.AES;for(C=0,Z=W.length;C<Z;C++)if(0===m||m>0&&-1===ZC.AT(B,C))for(s=0,g=W.length;s<Z;s++)if(0===m||m>0&&-1===ZC.AT(B,s)){for(var Vl=0,Ll=0,Ul=0;Ul<s;Ul++)(0===m||m>0&&-1===ZC.AT(B,Ul))&&("undefined"==typeof W[C].values[Ul]&&(W[C].values[Ul]=0),Vl+=W[C].values[Ul]);for(Ul=0;Ul<C;Ul++)(0===m||m>0&&-1===ZC.AT(B,Ul))&&("undefined"==typeof W[s].values[Ul]&&(W[s].values[Ul]=0),Ll+=W[s].values[Ul]);var Wl=0;"undefined"!=typeof W[C].values[s]&&(Wl=W[C].values[s]);var Kl=0;"undefined"!=typeof W[s].values[C]&&(Kl=W[s].values[C]);var Ql=W[C]["angle-start"]+(W[C]["angle-end"]-W[C]["angle-start"])*Vl/W[C].total,Rl=Ql+(W[C]["angle-end"]-W[C]["angle-start"])*Wl/W[C].total,Jl=W[s]["angle-start"]+(W[s]["angle-end"]-W[s]["angle-start"])*Ll/W[s].total,Xl=Jl+(W[s]["angle-end"]-W[s]["angle-start"])*Kl/W[s].total;0===W[C].total&&(Ql=W[C]["angle-start"],Rl=W[C]["angle-end"]),0===W[s].total&&(Jl=W[s]["angle-start"],Xl=W[s]["angle-end"]),"undefined"!=typeof out&&(Ql=ZC._i_(Ql),Rl=ZC._i_(Rl),Jl=ZC._i_(Jl),Xl=ZC._i_(Xl),Ql===Rl&&(Ql-=.25,Rl+=.25),Jl===Xl&&(Jl-=.25,Xl+=.25));var Hl=ZC.AO.BM(Dl,kl,Pl,Ql),jl=ZC.AO.BM(Dl,kl,Pl,Jl);G={"background-color":"#fff",color:"#333","border-width":1,"border-color":d["border-color-1"],padding:10},null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.tooltip)&&ZC._cp_(i,G);var ql=y[C].text||"",Yl=y[s].text||"",$l={},le=[];if(C===s?(G.text=ql+":"+W[C].values[s],le=[[Hl[0],Hl[1]],[Dl,kl,Pl,Ql,Rl,0],[Dl,kl,Hl[0],Hl[1]]]):C<=s&&(G.text=ql+" -> "+Yl+":"+W[C].values[s]+"<br>"+Yl+" -> "+ql+":"+W[s].values[C],le=[[Hl[0],Hl[1]],[Dl,kl,Pl,Ql,Rl,0],[Dl,kl,jl[0],jl[1]],[Dl,kl,Pl,Jl,Xl,0],[Dl,kl,Hl[0],Hl[1]]]),le.length>0){var ee=Wl>=Kl?C:s;ZC._cp_({"background-color":K[ee].A0+" "+K[ee].AC,alpha:.75,"border-width":1,"border-color":d["border-color-2"],tooltip:G},$l),null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.chord)&&ZC._cp_(i,$l),null!==ZC._n_(y[C].style)&&null!==ZC._n_(i=y[C].style.chord)&&ZC._cp_(i,$l),ZC._cp_({type:"poly",id:"chord_"+C+"_"+s,dynamic:!0,"fast-vector-path":!0,points:le},$l),C!==s&&null!==ZC._n_(i=$l.tooltip["text-chord"])&&($l.tooltip.text=i),$l.tooltip.text=$l.tooltip.text.replace(/%text-destination/gi,Yl).replace(/%value-destination/gi,W[s].values[C]).replace(/%text-source/gi,ql).replace(/%value-source/gi,W[C].values[s]).replace(/%text/gi,ql).replace(/%value/gi,W[C].values[s]),("undefined"==typeof $l.visible||ZC._b_($l.visible))&&(0===Wl&&0===Kl||k.push($l))}}}return o})}();