/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.0
*/
zingchart.setModule("wordcloud"),ZC.ADO=function(){var t=function(){this.AEQ=9,this.AEP=99,this.AEN=2,this.EE=100,this.AEI=15,this.AEG=5,this.Z1=!1,this.EQ="word",this.AC3=[],this.AP="",this.aWords=[],this.oWordsMap=null,this.CT="spiral",this.AEW="palette",this.BZ="#000",this.bNormalize=!1,this.AGH=function(){for(var t=(16777215*Math.random()+1<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},this.KD=function(){var t,e,a={};if(""!==this.AP){if("word"===this.EQ)t=this.AP.replace(/[\:\;\,\.\{\}\[\]\(\)\?\!\/\=\+\-]/g," ").split(" ");else if("character"===this.EQ)for(this.AEN=0,t=[],e=0;e<this.AP.length;e++)" "!==this.AP[e]&&t.push(this.AP[e]);for(e=0;e<t.length;e++){var l=this.bNormalize?t[e].toLowerCase():t[e];if(t[e].length>=this.AEN&&-1===ZC.AT(this.AC3,t[e]))if(this.bNormalize){var o=!1;for(var r in a)r.toLowerCase()===l&&(o=!0,a[r]++);o||(a[t[e]]=1)}else null===ZC._n_(a[t[e]])&&(a[t[e]]=0),a[t[e]]++}}if(this.aWords.length>0)for(this.oWordsMap={},e=0;e<this.aWords.length;e++){var i=this.aWords[e];null!==ZC._n_(i.text)&&(this.oWordsMap[i.text]=i,a[i.text]=i.count||0)}return a},this.intersectRect=function(t,e){return!(e.iX>t.iX+t.I||e.iX+e.I<t.iX||e.iY>t.iY+t.F||e.iY+e.F<t.iY)}};return t.getDefaults=function(e){var a={};return ZC._cp_(t.B9,a),t.NU[e]&&ZC._cp_(t.NU[e],a),a},t.B9={palette:["#6a921f","#007fa3","#a62b02","#b79007","#563d02","#0b32a0"]},t.NU={light:{palette:["#7CA82B","#29A2CC","#D31E1E","#EF8535","#A14BC9","#A05F18","#265E96","#6B7075"]},dark:{palette:["#7CA82B","#29A2CC","#D31E1E","#EF8535","#A14BC9","#A05F18","#265E96","#6B7075"]}},t}(),zingchart.bind(null,"dataparse",function(t,e){for(var a,l,o,r,i,n=zingchart.getLoader(t.id),s=0,h=e.graphset.length;s<h;s++)if(e.graphset[s].type&&"wordcloud"===e.graphset[s].type){var p=e.graphset[s].type,_=e.graphset[s],C=ZC.ADO.getDefaults(t.theme),A={};for(_.options&&(A=_.options[p]||_.options),ZC._todash_(A,!0,["words"]),_.labels=_.labels||[],r=_.labels.length-1;r>=0;r--)(_.labels[r]["data-word-cloud"]||_.labels[r].dataWordCloud)&&_.labels.splice(r,1);_.plotarea=_.plotarea||{},null===ZC._n_(_.plotarea.margin)&&(_.plotarea.margin=5);var E=new ZC.ADO;null!==ZC._n_(a=A.text)&&(E.AP=a),null!==ZC._n_(a=A.words)&&(E.aWords=a),null!==ZC._n_(a=A.aspect)&&(E.CT=a),null!==ZC._n_(a=A.ignore)&&(E.AC3=a),null!==ZC._n_(a=A.token)&&(E.EQ=a),null!==ZC._n_(a=A["min-length"])&&(E.AEN=ZC._i_(a)),null!==ZC._n_(a=A["min-font-size"])&&(E.AEQ=ZC._i_(a)),null!==ZC._n_(a=A["max-font-size"])&&(E.AEP=ZC._i_(a)),null!==ZC._n_(a=A["max-items"])&&(E.EE=ZC._i_(a)),null!==ZC._n_(a=A["color-type"])&&(E.AEW=a),null!==ZC._n_(a=A.color)&&(E.BZ=ZC.AN.G5(a)),null!==ZC._n_(a=A.palette)?E.BN=a:E.BN=C.palette,null!==ZC._n_(a=A["step-angle"])&&(E.AEI=ZC._i_(a)),null!==ZC._n_(a=A["step-radius"])&&(E.AEG=ZC._i_(a)),null!==ZC._n_(a=A.rotate)&&(E.Z1=ZC._b_(a)),null!==ZC._n_(a=A.normalize)&&(E.bNormalize=ZC._b_(a));var u={};null!==ZC._n_(a=A.style)&&ZC._cp_(a,u);var f=zingchart.getInstance(n,"textbox");f.append(u),f.parse(),E.AEQ=ZC.BO(4,E.AEQ),E.AEP=ZC.BO(4,E.AEP),E.AEQ>=E.AEP&&(E.AEP=E.AEQ+2);var Z=zingchart.getGraphInfo(n,e,s),c=[],d=Z.plotarea.x+Z.plotarea.width/2,g=Z.plotarea.y+Z.plotarea.height/2,w=1;"spiral"===E.CT?w=E.Z1?.65:.55:"flow-top"!==E.CT&&"flow-center"!==E.CT||(E.Z1=!1,w=.75);var v=Z.plotarea.width*Z.plotarea.height*w,b=E.KD(),x=[],P=-Number.MAX_VALUE,Q=Number.MAX_VALUE;for(var B in b)x.push({text:B,count:b[B],hits:b[B]});for(x.sort(function(t,e){return t.count<e.count?1:t.count>e.count?-1:0}),-1!==E.EE&&x.splice(E.EE,x.length-E.EE),l=0;l<x.length;l++)P=ZC.BO(x[l].count,P),Q=ZC.CW(x[l].count,Q);for(l=0;l<x.length;l++)x[l].count=P===Q?50:10+90*(x[l].count-Q)/(P-Q);var m=function(t){for(l=0;l<x.length;l++)x[l].fontSize=Math.max(E.AEQ,ZC._i_(E.AEQ+x[l].count/100*(E.AEP-E.AEQ))-t),x[l].width=ZC.P.A3X(n.K,x[l].text,f.GB,x[l].fontSize,f.sFontWeight,f.FG)+f.EO+f.FK,x[l].height=1.1*x[l].fontSize+f.FJ+f.FQ};m(0);for(var y=!1;!y;){y=!0;var T=0;for(l=0;l<x.length;l++)T+=x[l].width*x[l].height;T>v&&(y=!1,E.AEP--,E.AEP<=E.AEQ+4&&E.AEQ--,m(0),(E.AEQ<5||E.AEP<5)&&(y=!0))}null===ZC._n_(A["step-radius"])&&(E.AEG=(E.AEP-E.AEQ+.25*E.AEQ*E.AEN+1)/10);for(var N=!0,W=-1;N&&W<E.AEP-E.AEQ;){c=[],_.labels=[],m(W+=1),N=!1;var z,M=0,F=0,G=E.AEP/2,D=E.AEP/2,I=[];for(l=0,o=x.length;l<o;l++){var X=!0,k=d,O=g,Y=E.BZ;switch(E.AEW){case"random":Y=E.AGH();break;case"palette":Y=E.BN[l%E.BN.length]}var S=E.Z1?l%4==0||l%4==3?0:90:0,L=!1,U=x[l].text,K={padding:0,dataWordCloud:!0};ZC._cp_(u,K),ZC._cp_({angle:S,"font-size":Math.max(E.AEQ,x[l].fontSize-W),text:U,color:Y},K),null!==ZC._n_(A.style)&&null!==ZC._n_(a=A.style["hover-state"])&&(K["hover-state"]={},ZC._cp_(a,K["hover-state"]));var H=U;K.tooltip={visible:!1,"background-color":"#fff",color:"#333","border-width":1,"border-color":"#999",padding:10,text:H},null!==ZC._n_(A.style)&&null!==ZC._n_(a=A.style.tooltip)&&ZC._cp_(a,K.tooltip),K.tooltip.text=K.tooltip.text.replace("%text",U).replace("%hits",x[l].hits),E.oWordsMap&&null!==ZC._n_(E.oWordsMap[U])&&(ZC._cp_(E.oWordsMap[U],K),ZC._cp_(E.oWordsMap[U].style,K));var R=0,V=0,J=0,j=E.AEQ/2;for("flow-top"===E.CT?J=1:"flow-center"===E.CT&&(J=l%2==0?1:-1),I[l]=0;X&&!N;){var q=x[l].width,$=x[l].height;if("spiral"===E.CT?(k=d+(0===l?0:G)*ZC.EF(M)-q/2,O=g+(0===l?0:D)*ZC.EM(M)-$/2):"flow-center"===E.CT?(k=0===l?d-q/2:Z.plotarea.x+R,O=g-$/2+V):"flow-top"===E.CT&&(k=0===l?d-q/2:Z.plotarea.x+R,O=Z.plotarea.y+V),90===S&&"flow-top"===E.CT&&(O=ZC.BO(O,Z.plotarea.y+$)),K.x=ZC._i_(k),K.y=ZC._i_(O),X=!1,90===S){var tt=q;k=ZC._i_(k+q/2-$/2),O=ZC._i_(O+$/2-q/2),q=$,$=tt}if(k<Z.plotarea.x||k+q>Z.plotarea.x+Z.plotarea.width||O<Z.plotarea.y||O+$>Z.plotarea.y+Z.plotarea.height)if("spiral"===E.CT){if(!(I[l]<200)){L=!0,N=!0;break}I[l]++,X=!0}else if("flow-top"===E.CT||"flow-center"===E.CT){if(k+q>Z.plotarea.x+Z.plotarea.width&&(X=!0,R=-j,V+=J*j),O+$>Z.plotarea.y+Z.plotarea.height){L=!0;break}if(O<Z.plotarea.y){L=!0;break}}if(z={iX:k,iY:O,I:q,F:$,DH:Math.max(x[l].fontSize-W,E.AEQ),AP:x[l].text,GB:f.GB},!X)for(r=0,i=c.length;r<i;r++)if(E.intersectRect(c[r],z)){R+=c[r].I,X=!0;break}"spiral"===E.CT?X?(M+=E.AEI)>F+360&&(G+=E.AEG,D+=E.AEG*(Z.plotarea.height/Z.plotarea.width),M=F=5*l%360):(G=D=E.AEP/2,M=F=5*l%360):"flow-top"!==E.CT&&"flow-center"!==E.CT||X&&(R+=j)}L||z.iX<Z.plotarea.x||z.iX+z.I>Z.plotarea.x+Z.plotarea.width||z.iY<Z.plotarea.y||z.iY+z.F>Z.plotarea.y+Z.plotarea.height||(c.push(z),_.labels.push(K))}"flow-top"!==E.CT&&"flow-center"!==E.CT||x.length>c.length&&(N=!0)}}return e});